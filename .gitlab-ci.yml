test-carotid:
  image: python:3.9.7
  before_script:
    - pip install numpy==1.22.4
    - pip install -e ./src
  script:
    - pytest ./tests/test_cli.py
    - pytest ./tests/heatmap_transform/test_heatmap_transform.py
    - pytest ./tests/centerline_transform/test_centerline_transform.py
    - pytest ./tests/polar_transform/test_polar_transform.py
    - pytest ./tests/segmentation_transform/test_segmentation_transform.py

test-docker-debian:
  image: debian:11.6
  before_script:
    - apt update
    - apt install apt-transport-https ca-certificates curl gnupg lsb-release
    - apt install docker-ce docker-ce-cli containerd.io
  script:
    - source ./test.sh